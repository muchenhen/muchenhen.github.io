

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/muchenhen/MuImageStore@main/xuange.png">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/muchenhen/MuImageStore@main/xuange.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="æœ¨å°˜ç—•">
  <meta name="keywords" content="">
  
    <meta name="description" content="ç›®çš„:  1. å­¦ä¹ å‘é‡æ˜¯å¦‚ä½•ç”¨å‡ ä½•å’Œæ•°å­—è¡¨ç¤ºçš„ã€‚ 2. å‘ç°å‘é‡ä¸Šå®šä¹‰çš„è¿ç®—åŠå…¶å‡ ä½•åº”ç”¨ã€‚ 3.ç†Ÿæ‚‰DirectXMathç±»åº“ä¸­çš„å‘é‡å‡½æ•°å’Œç±»ã€‚  D3Dä½¿ç”¨å·¦æ‰‹åæ ‡ç³»  1.6 DIRECTX MATH VECTORS D3Dæ•°å­¦å‘é‡ è¦ä½¿ç”¨d3dæ•°å­¦åº“ï¼Œéœ€è¦ #include &lt;DirectXMath.h&gt; #include &lt;DirectXPackedVector.h&amp;g">
<meta property="og:type" content="website">
<meta property="og:title" content="DX12é¾™ä¹¦Partâ… Chapter 1 å‘é‡">
<meta property="og:url" content="http://muchenhen.com/OLD/dx12%E9%BE%99%E4%B9%A6part%E2%85%A0chapter-1-%E5%90%91%E9%87%8F.html">
<meta property="og:site_name" content="è™šæ— ä¹‹å¢ƒ">
<meta property="og:description" content="ç›®çš„:  1. å­¦ä¹ å‘é‡æ˜¯å¦‚ä½•ç”¨å‡ ä½•å’Œæ•°å­—è¡¨ç¤ºçš„ã€‚ 2. å‘ç°å‘é‡ä¸Šå®šä¹‰çš„è¿ç®—åŠå…¶å‡ ä½•åº”ç”¨ã€‚ 3.ç†Ÿæ‚‰DirectXMathç±»åº“ä¸­çš„å‘é‡å‡½æ•°å’Œç±»ã€‚  D3Dä½¿ç”¨å·¦æ‰‹åæ ‡ç³»  1.6 DIRECTX MATH VECTORS D3Dæ•°å­¦å‘é‡ è¦ä½¿ç”¨d3dæ•°å­¦åº“ï¼Œéœ€è¦ #include &lt;DirectXMath.h&gt; #include &lt;DirectXPackedVector.h&amp;g">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.muchenhen.com/wp-content/uploads/2019/10/image.png">
<meta property="og:image" content="http://www.muchenhen.com/wp-content/uploads/2019/10/image-3.png">
<meta property="og:image" content="http://www.muchenhen.com/wp-content/uploads/2019/10/image-1.png">
<meta property="og:image" content="http://www.muchenhen.com/wp-content/uploads/2019/10/image-2.png">
<meta property="article:published_time" content="2019-10-27T13:50:42.000Z">
<meta property="article:modified_time" content="2025-10-28T02:08:16.397Z">
<meta property="article:author" content="æœ¨å°˜ç—•">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://www.muchenhen.com/wp-content/uploads/2019/10/image.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>DX12é¾™ä¹¦Partâ… Chapter 1 å‘é‡ - è™šæ— ä¹‹å¢ƒ</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />





<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"muchenhen.com","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"bbb32ef470b36fe5f1e4e72f32112b68","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 8.1.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 60vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>è™šæ— ä¹‹å¢ƒ</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://cdn.jsdelivr.net/gh/muchenhen/MuImageStore@main/NagisaKaworu.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="DX12é¾™ä¹¦Partâ… Chapter 1 å‘é‡"></span>
          
        </div>

        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      <div class="container nopadding-x-md">
        <div id="board"
          >
          
          <div class="container">
            <div class="row">
              <div class="col-12 col-md-10 m-auto">
                

<article class="page-content">
  <p>ç›®çš„:</p>
<ul>
<li>1. å­¦ä¹ å‘é‡æ˜¯å¦‚ä½•ç”¨å‡ ä½•å’Œæ•°å­—è¡¨ç¤ºçš„ã€‚</li>
<li>2. å‘ç°å‘é‡ä¸Šå®šä¹‰çš„è¿ç®—åŠå…¶å‡ ä½•åº”ç”¨ã€‚</li>
<li>3.ç†Ÿæ‚‰DirectXMathç±»åº“ä¸­çš„å‘é‡å‡½æ•°å’Œç±»ã€‚</li>
</ul>
<p>D3Dä½¿ç”¨å·¦æ‰‹åæ ‡ç³»</p>
<p><img src="http://www.muchenhen.com/wp-content/uploads/2019/10/image.png" srcset="/img/loading.gif" lazyload alt="zÅ‚ " /></p>
<p><strong>1.6 DIRECTX MATH VECTORS</strong><br />
<strong>D3Dæ•°å­¦å‘é‡</strong></p>
<p>è¦ä½¿ç”¨d3dæ•°å­¦åº“ï¼Œéœ€è¦</p>
<p>#include &lt;DirectXMath.h&gt;<br />
#include &lt;DirectXPackedVector.h&gt;</p>
<p>å‘½åç©ºé—´</p>
<p>DirectX<br />
DirectX::PackedVector</p>
<p><strong>XMVECTOR</strong></p>
<p>åº“ä¸­æ ¸å¿ƒçš„Vectorç±»å‹ï¼Œæ˜¯å¯¹SIMDå¯„å­˜å™¨çš„æ˜ å°„ã€‚å½“å‰CPUæ˜¯SSE2æŒ‡ä»¤é›†å¯ä»¥ä½¿ç”¨æ—¶å¦‚ä¸‹å®šä¹‰ï¼š</p>
<p>typedef _m128 XMVECTOR;</p>
<p>_m128æ˜¯ç”±Microsoftæä¾›çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç”¨äºä¸SSEã€SSE2å†…éƒ¨æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨çš„ã€‚åœ¨16å­—èŠ‚è¾¹ç•Œä¸Šè‡ªåŠ¨å¯¹é½ã€‚ARMå¤„ç†å™¨ä¸æ”¯æŒè¯¥ç±»å‹ã€‚<br />
è™½ç„¶è¿™æ˜¯ä¸€ä¸ª128ä½å®½çš„å¯„å­˜å™¨ï¼Œèƒ½å­˜å‚¨ä¸€ä¸ªå››ç»´çš„Vectorï¼Œä½†å½“æˆ‘ä»¬ä½¿ç”¨äºŒç»´æˆ–ä¸‰ç»´çš„Vectorè¿ç®—æ—¶ï¼Œä¸ºäº†æ•ˆç‡ï¼Œä»ç„¶ä¼šå»ä½¿ç”¨XMVECTORç±»å‹ã€‚<br />
XMVECTORçš„æ•°æ®ä¸èƒ½ç›´æ¥è®¿é—®ã€‚å¯ä»¥è½¬æ¢æˆXMFLOATç±»å‹ï¼ˆè½¬æ¢æ–¹æ³•è§ä¸‹æ–‡ï¼‰ï¼Œä¹Ÿå¯é€šè¿‡ç‰¹å®šçš„æ¥å£getæˆ–setå…¶æŸä¸ªåˆ†é‡ï¼š</p>
<p><strong>åŠ è½½å’Œå­˜å‚¨æ–¹æ³•</strong></p>
<p>We use the following methods to load data from XMFLOATn into XMVECTOR:<br />
ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•å»åŠ è½½æ•°æ®ï¼Œä»XMFLOATåˆ°XMVECTOR</p>
<p>// Loads XMFLOAT2 into XMVECTOR<br />
//åŠ è½½2åˆ°V<br />
<strong>XMVECTOR XM_CALLCONV XMLoadFloat2(const XMFLOAT2* pSource);</strong></p>
<p>// Loads XMFLOAT3 into XMVECTOR<br />
<strong>XMVECTOR XM_CALLCONV XMLoadFloat3(const XMFLOAT3* pSource);</strong></p>
<p>// Loads XMFLOAT4 into XMVECTOR<br />
<strong>XMVECTOR XM_CALLCONV XMLoadFloat4(const XMFLOAT4* pSource);</strong></p>
<p>We use the following methods to store data from XMVECTOR into XMFLOATn:<br />
ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•å­˜å‚¨æ•°æ®ï¼Œä»Våˆ°F</p>
<p>// Loads XMVECTOR into XMFLOAT2<br />
<strong>void XM_CALLCONV XMStoreFloat2(XMFLOAT2 *pDestination, FXMVECTOR V);</strong></p>
<p>// Loads XMVECTOR into XMFLOAT3<br />
<strong>void XM_CALLCONV XMStoreFloat3(XMFLOAT3 *pDestination, FXMVECTOR V);</strong></p>
<p>// Loads XMVECTOR into XMFLOAT4<br />
<strong>void XM_CALLCONV XMStoreFloat4(XMFLOAT4 *pDestination, FXMVECTOR V);</strong></p>
<p>Sometimes we just want to get or set one component of an XMVECTOR; the following getter and setter functions facilitate this:<br />
è·å¾—å‘é‡çš„æŸä¸ªç»„ä»¶ï¼Œgetæ–¹æ³•</p>
<p>float XM_CALLCONV XMVectorGetX(FXMVECTOR V);</p>
<p>float XM_CALLCONV XMVectorGetY(FXMVECTOR V);</p>
<p>float XM_CALLCONV XMVectorGetZ(FXMVECTOR V);</p>
<p>float XM_CALLCONV XMVectorGetW(FXMVECTOR V);</p>
<p>è®¾ç½®å‘é‡çš„æŸä¸ªç»„ä»¶ï¼Œsetæ–¹æ³•</p>
<p>XMVECTOR XM_CALLCONV XMVectorSetX(FXMVECTOR V, float x);</p>
<p>XMVECTOR XM_CALLCONV XMVectorSetY(FXMVECTOR V, float y);</p>
<p>XMVECTOR XM_CALLCONV XMVectorSetZ(FXMVECTOR V, float z);</p>
<p>XMVECTOR XM_CALLCONV XMVectorSetW(FXMVECTOR V, float w);</p>
<p>XMVECTORé‡è½½äº†åŠ å‡ä¹˜é™¤ç­‰è¿ç®—ç¬¦ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œè¿ç®—ã€‚</p>
<p><strong>1.6.3 å‚æ•°ä¼ é€’</strong></p>
<p>ç”±äºXMVECTORçš„æ•°æ®å­˜å‚¨åœ¨å¯„å­˜å™¨ï¼Œè€Œä¸åœ¨å †æ ˆä¸Šï¼Œå› æ­¤å‚æ•°ä¼ é€’æ—¶ä¼šæœ‰äº›ç‰¹æ®Šã€‚åŸºæœ¬çš„æƒ³æ³•æ˜¯ï¼Œèƒ½ç”¨å¯„å­˜å™¨ä¼ é€’çš„å°±ç”¨å¯„å­˜å™¨ä¼ é€’ï¼Œä¸èƒ½çš„å°±ç”¨æ ˆã€‚å…·ä½“å¯ä»¥é€šè¿‡å¯„å­˜å™¨ä¼ é€’çš„å‚æ•°æ•°é‡ï¼Œæ ¹æ®å¹³å°å’Œç¼–è¯‘å™¨è€Œå®šã€‚<br />
ä¸ºæ­¤ï¼Œå¢åŠ äº†å‡ ç§ç”¨äºå‚æ•°ä¼ é€’çš„æ•°æ®ç±»å‹ï¼ŒFXMVECTORã€GXMVECTORã€HXMVECTORã€CXMVECTORã€‚åŸºæœ¬çš„ä½¿ç”¨è§„åˆ™æ˜¯ï¼š</p>
<ol>
<li>å‰ä¸‰ä¸ªXMVECTORå‚æ•°ä½¿ç”¨FXMVECTOR</li>
<li>ç¬¬å››ä¸ªXMVECTORå‚æ•°ä½¿ç”¨GXMVECTOR</li>
<li>ç¬¬äº”å…­ä¸ªXMVECTORå‚æ•°ä½¿ç”¨HXMVECTOR</li>
<li>å…¶ä»–ä½¿ç”¨CXMVECTOR</li>
</ol>
<p>è€Œå®XM_CALLCONVï¼Œå°±æ˜¯ç”¨äºå‘Šè¯‰ç¼–è¯‘å™¨è¯¥å‡½æ•°è°ƒç”¨æ—¶ï¼Œæœ‰è¿™ç§ç‰¹åˆ«çš„å‚æ•°ä¼ é€’è§„åˆ™ã€‚<br />
æœ‰è¿™æ ·çš„å®šä¹‰</p>
<p>void XM_CALLCONV XMStoreFloat2(XMFLOAT2 *pDestination, FXMVECTOR V);</p>
<p>ä½†æ˜¯ï¼Œè¿™äº›è§„åˆ™åœ¨æ„é€ å‡½æ•°ä¸­å¹¶ä¸é€‚ç”¨ã€‚åœ¨æ„é€ å‡½æ•°ä¸­ï¼š</p>
<ol>
<li>å‰ä¸‰ä¸ªXMVECTORå‚æ•°ä½¿ç”¨FXMVECTOR</li>
<li>å…¶ä»–ä½¿ç”¨CXMVECTOR</li>
<li>ä¸è¦ä½¿ç”¨XM_CALLCONV</li>
</ol>
<p>å¦å¤–ï¼Œè¿™äº›è§„åˆ™åªæ˜¯é’ˆå¯¹äºXMVECTORç±»å‹æœ¬èº«ã€‚è€Œå¯¹äºå¤åˆç±»ï¼ŒXMVECTOR&amp;ã€XMVECTOR*å¹¶ä¸ä¼šä½¿ç”¨å¯„å­˜å™¨ä¼ é€’ï¼Œå’Œæ™®é€šå‚æ•°åŒç­‰çœ‹å¾…ã€‚</p>
<p><strong>1.6.5é‡è½½è¿ç®—ç¬¦</strong></p>
<p>XMVECTORæœ‰å‡ ä¸ªé‡è½½çš„è¿ç®—ç¬¦ï¼Œç”¨äºæ‰§è¡Œå‘é‡çš„åŠ æ³•ã€å‡æ³•å’Œæ ‡é‡ä¹˜æ³•ã€‚</p>
<p>XMVECTOR XM_CALLCONV operator+ (FXMVECTOR V);</p>
<p>XMVECTOR XM_CALLCONV operator- (FXMVECTOR V);</p>
<p>XMVECTOR&amp; XM_CALLCONV operator+= (XMVECTOR&amp; V1, FXMVECTOR V2);</p>
<p>XMVECTOR&amp; XM_CALLCONV operator-= (XMVECTOR&amp; V1, FXMVECTOR V2);</p>
<p>XMVECTOR&amp; XM_CALLCONV operator*= (XMVECTOR&amp; V1, FXMVECTOR V2);</p>
<p>XMVECTOR&amp; XM_CALLCONV operator/= (XMVECTOR&amp; V1, FXMVECTOR V2);</p>
<p>XMVECTOR&amp; operator*= (XMVECTOR&amp; V, float S);</p>
<p>XMVECTOR&amp; operator/= (XMVECTOR&amp; V, float S);</p>
<p>XMVECTOR XM_CALLCONV operator+ (FXMVECTOR V1, FXMVECTOR V2);</p>
<p>XMVECTOR XM_CALLCONV operator- (FXMVECTOR V1, FXMVECTOR V2);</p>
<p>XMVECTOR XM_CALLCONV operator* (FXMVECTOR V1, FXMVECTOR V2);</p>
<p>XMVECTOR XM_CALLCONV operator/ (FXMVECTOR V1, FXMVECTOR V2);</p>
<p>XMVECTOR XM_CALLCONV operator* (FXMVECTOR V, float S);</p>
<p>XMVECTOR XM_CALLCONV operator* (float S, FXMVECTOR V);</p>
<p>XMVECTOR XM_CALLCONV operator/ (FXMVECTOR V, float S);</p>
<p><strong>1.6.6å…¶ä»–å‚æ•°</strong></p>
<p><strong>å®šä¹‰ä»¥ä¸‹å¸¸é‡ç”¨äºæ¶‰åŠÏ€è¿‘ä¼¼ä¸åŒçš„è¡¨è¾¾å¼</strong>**ğŸ˜—*</p>
<p>const float XM_PI = 3.141592654f;</p>
<p>const float XM_2PI = 6.283185307f;</p>
<p>const float XM_1DIVPI = 0.318309886f;</p>
<p>const float XM_1DIV2PI = 0.159154943f;</p>
<p>const float XM_PIDIV2 = 1.570796327f;</p>
<p>const float XM_PIDIV4 = 0.785398163f;</p>
<p><strong>å¼§åº¦å’Œè§’åº¦è½¬æ¢çš„å†…è”å‡½æ•°ï¼š</strong></p>
<p>inline float XMConvertToRadians(float fDegrees) { return fDegrees * (XM_PI / 180.0f); } inline float XMConvertToDegrees(float fRadians) { return fRadians * (180.0f / XM_PI); }</p>
<p><strong>min</strong>**/max****å‡½æ•°ï¼š**</p>
<p>template<class T> inline T XMMin(T a, T b) { return (a &lt; b) ? a : b; }</p>
<p>template<class T> inline T XMMax(T a, T b) { return (a &gt; b) ? a : b; }</p>
<p><strong>1.6.7 Setter å‡½æ•°</strong></p>
<p>DirectX Mathæä¾›äº†ä»¥ä¸‹å‡½æ•°æ¥è®¾ç½®XMVECTORçš„å†…å®¹:</p>
<p>// Returns the zero vector 0 Â ç½®0</p>
<p>XMVECTOR XM_CALLCONV XMVectorZero();</p>
<p>// Returns the vector (1, 1, 1, 1) Â ç½®1</p>
<p>XMVECTOR XM_CALLCONV XMVectorSplatOne();</p>
<p>// Returns the vector (x, y, z, w)</p>
<p>XMVECTOR XM_CALLCONV XMVectorSet(float x, float y, float z, float w);</p>
<p>// Returns the vector (s, s, s, s)</p>
<p>XMVECTOR XM_CALLCONV XMVectorReplicate(float Value);</p>
<p>// Returns the vector (vx, vx, vx, vx)</p>
<p>XMVECTOR XM_CALLCONV XMVectorSplatX(FXMVECTOR V);</p>
<p>// Returns the vector (vy, vy, vy, vy)</p>
<p>XMVECTOR XM_CALLCONV XMVectorSplatY(FXMVECTOR V);</p>
<p>// Returns the vector (vz, vz, vz, vz)</p>
<p>XMVECTOR XM_CALLCONV XMVectorSplatZ(FXMVECTOR V);</p>
<p><strong>1.6.8å‘é‡å‡½æ•°</strong></p>
<p>DirectX Mathæä¾›ä»¥ä¸‹å‡½æ•°æ¥æ‰§è¡Œå„ç§å‘é‡æ“ä½œã€‚ç”¨3Dç‰ˆæœ¬æ¥è¯´æ˜ï¼Œä½†ä¹Ÿæœ‰ç±»ä¼¼çš„2Då’Œ4Dç‰ˆæœ¬;2Då’Œ4Dç‰ˆæœ¬çš„åç§°ä¸3Dç‰ˆæœ¬ç›¸åŒï¼Œåªæ˜¯åˆ†åˆ«ç”¨2å’Œ4ä»£æ›¿äº†3ã€‚</p>
<p>XMVECTOR XM_CALLCONV XMVector3Length( // Returns ||v||</p>
<p>FXMVECTOR V); // Input v</p>
<p>XMVECTOR XM_CALLCONV XMVector3LengthSq( // Returns ||v||2</p>
<p>FXMVECTOR V); // Input v</p>
<p>XMVECTOR XM_CALLCONV XMVector3Dot( // Returns v1Â·v2</p>
<p>FXMVECTOR V1, // Input v1</p>
<p>FXMVECTOR V2); // Input v2</p>
<p>XMVECTOR XM_CALLCONV XMVector3Cross( // Returns v1 Ã— v2</p>
<p>FXMVECTOR V1, // Input v1</p>
<p>FXMVECTOR V2); // Input v2</p>
<p>XMVECTOR XM_CALLCONV XMVector3Normalize( // Returns</p>
<p>v/||v|| FXMVECTOR V); // Input v</p>
<p>XMVECTOR XM_CALLCONV XMVector3Orthogonal( // Returns a</p>
<p>vector orthogonal to v FXMVECTOR V); // Input v</p>
<p>XMVECTOR XM_CALLCONV</p>
<p>XMVector3AngleBetweenVectors( // Returns the angle between v1 and</p>
<p>v2</p>
<p>FXMVECTOR V1, // Input v1</p>
<p>FXMVECTOR V2); // Input v2</p>
<p>void XM_CALLCONV XMVector3ComponentsFromNormal(</p>
<p>XMVECTOR* pParallel, // Returns projn(v)</p>
<p>XMVECTOR* pPerpendicular, // Returns perpn(v)</p>
<p>FXMVECTOR V, // Input v</p>
<p>FXMVECTOR Normal); // Input n</p>
<p>bool XM_CALLCONV XMVector3Equal( // Returns v1 = v2</p>
<p>FXMVECTOR V1, // Input v1</p>
<p>FXMVECTOR V2); // Input v2</p>
<p>bool XM_CALLCONV XMVector3NotEqual( // Returns v1 â‰  v2</p>
<p>FXMVECTOR V1, // Input v1</p>
<p>FXMVECTOR V2); // Input v2</p>
<p><strong>Sample</strong> Code:</p>
<p>#include  // for XMVerifyCPUSupport<br />
#include<br />
#include<br />
#include<br />
using namespace std;<br />
using namespace DirectX;<br />
using namespace DirectX::PackedVector;</p>
<p>// Overload the  â€œ&lt;&lt;â€ operators so that we can use cout to<br />
// output XMVECTOR objects.</p>
<p>//é‡è½½æµè¿ç®—ç¬¦<br />
ostream&amp; XM_CALLCONV operator &lt;&lt; (ostream&amp; os, FXMVECTOR v)<br />
{<br />
XMFLOAT3 dest;<br />
XMStoreFloat3(&amp;dest, v);</p>
<pre><code class="hljs">os &lt;&lt; &quot;(&quot; &lt;&lt; dest.x &lt;&lt; &quot;, &quot; &lt;&lt; dest.y &lt;&lt; &quot;, &quot; &lt;&lt; dest.z &lt;&lt; &quot;)&quot;;
return os;
</code></pre>
<p>}</p>
<p>int main()<br />
{<br />
cout.setf(ios_base::boolalpha);</p>
<pre><code class="hljs">// Check support for SSE2 (Pentium4, AMD K8, and above).
//æ£€æŸ¥æ˜¯å¦æ”¯æŒSSE2

if (!XMVerifyCPUSupport())
{
    cout &lt;&lt; &quot;directx math not supported&quot; &lt;&lt; endl;
    return 0;
}

XMVECTOR n = XMVectorSet(1.0f, 0.0f, 0.0f, 0.0f);
XMVECTOR u = XMVectorSet(1.0f, 2.0f, 3.0f, 0.0f);
XMVECTOR v = XMVectorSet(-2.0f, 1.0f, -3.0f, 0.0f);
XMVECTOR w = XMVectorSet(0.707f, 0.707f, 0.0f, 0.0f);

// Vector addition: XMVECTOR operator + 
// å‘é‡åŠ æ³•
XMVECTOR a = u + v;

// Vector subtraction: XMVECTOR operator - 
// å‘é‡å‡æ³•
XMVECTOR b = u - v;

// Scalar multiplication: XMVECTOR operator \* 
// æ•°ä¹˜
XMVECTOR c = 10.0f\*u;

// ||u||
// å‘é‡çš„æ¨¡
XMVECTOR L = XMVector3Length(u);

// d = u / ||u||
// å‘é‡å•ä½åŒ–
XMVECTOR d = XMVector3Normalize(u);

// s = u dot v
// ç‚¹ä¹˜
XMVECTOR s = XMVector3Dot(u, v);

// e = u x v
// å‰ä¹˜
XMVECTOR e = XMVector3Cross(u, v);

// Find proj\_n(w) and perp\_n(w)
// wå¯¹äºnçš„ä¸¤ä¸ªæŠ•å½±åˆ†é‡
XMVECTOR projW;
XMVECTOR perpW;
XMVector3ComponentsFromNormal(&amp;projW, &amp;perpW, w, n);

// Does projW + perpW == w?
// ä¸¤ä¸ªæŠ•å½±åˆ†é‡å¯¹åº”çš„å‘é‡ï¼ŒåŠ æ³•ç»“æœæ˜¯åŸå‘é‡ï¼Œä¸‰è§’å½¢æ³•åˆ™
bool equal = XMVector3Equal(projW + perpW, w) != 0;
bool notEqual = XMVector3NotEqual(projW + perpW, w) != 0;

// The angle between projW and perpW should be 90 degrees.
// ä¸¤ä¸ªæŠ•å½±åˆ†é‡æ˜¯å‚ç›´çš„
XMVECTOR angleVec = XMVector3AngleBetweenVectors(projW, perpW);
float angleRadians = XMVectorGetX(angleVec);
float angleDegrees = XMConvertToDegrees(angleRadians);

cout &lt;&lt; &quot;u                   = &quot; &lt;&lt; u &lt;&lt; endl;
cout &lt;&lt; &quot;v                   = &quot; &lt;&lt; v &lt;&lt; endl;
cout &lt;&lt; &quot;w                   = &quot; &lt;&lt; w &lt;&lt; endl;
cout &lt;&lt; &quot;n                   = &quot; &lt;&lt; n &lt;&lt; endl;
cout &lt;&lt; &quot;a = u + v           = &quot; &lt;&lt; a &lt;&lt; endl;
cout &lt;&lt; &quot;b = u - v           = &quot; &lt;&lt; b &lt;&lt; endl;
cout &lt;&lt; &quot;c = 10 \* u          = &quot; &lt;&lt; c &lt;&lt; endl;
cout &lt;&lt; &quot;d = u / ||u||       = &quot; &lt;&lt; d &lt;&lt; endl;
cout &lt;&lt; &quot;e = u x v           = &quot; &lt;&lt; e &lt;&lt; endl;
cout &lt;&lt; &quot;L  = ||u||          = &quot; &lt;&lt; L &lt;&lt; endl;
cout &lt;&lt; &quot;s = u.v             = &quot; &lt;&lt; s &lt;&lt; endl;
cout &lt;&lt; &quot;projW               = &quot; &lt;&lt; projW &lt;&lt; endl;
cout &lt;&lt; &quot;perpW               = &quot; &lt;&lt; perpW &lt;&lt; endl;
cout &lt;&lt; &quot;projW + perpW == w  = &quot; &lt;&lt; equal &lt;&lt; endl;
cout &lt;&lt; &quot;projW + perpW != w  = &quot; &lt;&lt; notEqual &lt;&lt; endl;
cout &lt;&lt; &quot;angle               = &quot; &lt;&lt; angleDegrees &lt;&lt; endl;

return 0;
</code></pre>
<p>}</p>
<p><img src="http://www.muchenhen.com/wp-content/uploads/2019/10/image-3.png" srcset="/img/loading.gif" lazyload alt="0)10 * u=(1,2,3)(-2, 1, -3)(0. 707, 0. 707,(10, 20, 30)d = uurajWerpWrajWrajWangle/IIuIIVperpWperpW(0. 267261, 0. 534522, 0. 801784)(-9, -3, 5)(3. 74166, 3. 74166, 3. 74166)(0. 707, 0, 0)(0, 0. 707, 0)false " /></p>
<p>æ€»ç»“ï¼š</p>
<p>1. å¯¹å±€éƒ¨æˆ–å…¨å±€å˜é‡ä½¿ç”¨XMVECTORã€‚<br />
2. å¯¹ç±»æ•°æ®æˆå‘˜ä½¿ç”¨XMFLOAT2ã€XMFLOAT3å’ŒXMFLOAT4ã€‚<br />
3.åœ¨è¿›è¡Œè®¡ç®—ä¹‹å‰ï¼Œä½¿ç”¨åŠ è½½å‡½æ•°å°†XMFLOATnè½¬æ¢ä¸ºXMVECTOR<br />
4. ä½¿ç”¨XMVECTORå®ä¾‹è¿›è¡Œè®¡ç®—ã€‚<br />
5. ä½¿ç”¨å­˜å‚¨å‡½æ•°å°†XMVECTORè½¬æ¢ä¸ºXMFLOATn</p>
<p><img src="http://www.muchenhen.com/wp-content/uploads/2019/10/image-1.png" srcset="/img/loading.gif" lazyload alt="I.2.3.4.5.Use XMVECTOR for local or global variables.Use XMFLOAT2, XMFLOAT3, and XMFLOAT4 for class data members.Use loading functions to convert from XMFLOATn to XMVECTOR beforedoing calculations.Do calculations with XMVECTOR instances.Use storage functions to convert from XMVECTOR to XMFLOATn. " /></p>
<p>çŸ¢é‡ç”¨äºæ¨¡æ‹ŸåŒæ—¶å…·æœ‰å¤§å°å’Œæ–¹å‘çš„ç‰©ç†é‡ã€‚å‡ ä½•ä¸Šï¼Œæˆ‘ä»¬ç”¨æœ‰å‘çº¿æ®µè¡¨ç¤ºä¸€ä¸ªå‘é‡ã€‚çŸ¢é‡å¹³è¡Œäºè‡ªèº«å¹³ç§»æ—¶å¤„äºæ ‡å‡†ä½ç½®ï¼Œä½¿å…¶å°¾éƒ¨ä¸åæ ‡ç³»çš„åŸç‚¹é‡åˆã€‚ä¸€ä¸ªå¤„äºæ ‡å‡†ä½ç½®çš„å‘é‡å¯ä»¥é€šè¿‡æŒ‡å®šå…¶å¤´éƒ¨ç›¸å¯¹äºä¸€ä¸ªåæ ‡ç³»çš„åæ ‡æ¥è¿›è¡Œæ•°å€¼æè¿°ã€‚</p>
<p><img src="http://www.muchenhen.com/wp-content/uploads/2019/10/image-2.png" srcset="/img/loading.gif" lazyload alt="operations:1.2.3.4.5.6.7.Addition: u + V = (ux + vx, uy + vy, Liz + vz)Subtraction: u â€” V = (ux â€” vx, uy â€” vy, Liz â€” vz)Scalar Multiplication: ku = (ku ku kuz)x2 + + z2Length: IluNormalization:Dot Product:Cross Product:(xyzI lull ' llull ' lullIlulluvâ€”uV u V â€”uyvx) " /></p>
<p>æä¾›äº†ä»¥ä¸‹æœ‰ç”¨çš„å‡½æ•°æ¥è®¡ç®—ä¸€ä¸ªå‘é‡çš„é•¿åº¦ï¼Œä¸€ä¸ªå‘é‡çš„é•¿åº¦çš„å¹³æ–¹ï¼Œè®¡ç®—ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ï¼Œè®¡ç®—ä¸¤ä¸ªå‘é‡çš„å¤–ç§¯ï¼Œä»¥åŠå¯¹ä¸€ä¸ªå‘é‡è¿›è¡Œå½’ä¸€åŒ–:</p>
<p>XMVECTOR XM_CALLCONV XMVector3Length(FXMVECTOR V);</p>
<p>XMVECTOR XM_CALLCONV XMVector3LengthSq(FXMVECTOR V);</p>
<p>XMVECTOR XM_CALLCONV XMVector3Dot(FXMVECTOR V1, FXMVECTOR V2);</p>
<p>XMVECTOR XM_CALLCONV XMVector3Cross(FXMVECTOR V1, FXMVECTOR V2);</p>
<p>XMVECTOR XM_CALLCONV XMVector3Normalize(FXMVECTOR V);</p>


  

</article>



              </div>
            </div>
          </div>
        </div>
      </div>
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="busuanzi_value_site_pv"></span>
         æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="busuanzi_value_site_uv"></span>
         äºº
      </span>
    
    
  
</div>

  
  
    <!-- å¤‡æ¡ˆä¿¡æ¯ ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      
    </a>
  </span>
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <!-- Baidu Analytics -->
    <script defer>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?bbb32ef470b36fe5f1e4e72f32112b68";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
